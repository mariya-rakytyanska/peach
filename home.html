<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.green-orange.min.css" />
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin=""></script>
    <style>
        #location {
            line-height: 48px;
            text-align: center;
            font-weight: 500;
            font-size: 14px;
            text-transform: uppercase;
            color: rgba(0, 0, 0, .54);
        }

        #map {
            width: 100%;
            height: 400px;
        }

        .image-full-width {
            width: 100%;
        }

       
        .demo-card-wide.mdl-card {
            width: 100%;
        }
    </style>
</head>

<body>
    <!-- Always shows a header, even in smaller screens. 46.182020, 6.122567 -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <main class="mdl-layout__content">
            <div class="page-content">
                <div class="mdl-grid">
                    <div class="mdl-cell mdl-cell--1-col">&nbsp;</div>
                    <div class="mdl-cell mdl-cell--6-col">
                        <select id="location" onchange="showMarker(this.value)">
                            <option value="" disabled selected hidden>Choisissez un lieu:</option>
                            <option value="0">B17-Salle de sport</option>
                            <option value="1">B17-Auditorium</option>
                            <option value="2">B17-Salle de DS</option>
                            <option value="3">B10-Salle Polyvalente</option>
                        </select>
                    </div>
                    <div class="mdl-cell mdl-cell--1-col">&nbsp;</div>
                </div>

                <div class="mdl-grid">
                    <div class="mdl-cell mdl-cell--1-col">&nbsp;</div>
                    <div class="mdl-cell mdl-cell--6-col">
                        <div id="map"></div>
                    </div>
                    <div class="mdl-cell mdl-cell--1-col">&nbsp;</div>
                </div>
                <div id="tabs" class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                        <a id="tab0" href="#plan0" class="mdl-tabs__tab is-active">MT</a>
                        <a id="tab1" href="#plan1" class="mdl-tabs__tab">B10</a>
                        <a id="tab2" href="#plan2" class="mdl-tabs__tab">B17 Sous sol</a>
                        <a id="tab3" href="#plan3" class="mdl-tabs__tab">B17 Rez-de-chaussée</a>
                    </div>

                    <div class="mdl-tabs__panel is-active" id="plan0">
                        <img class="image-full-width" id="mt_plan" src="mt.jpeg"></img>
                    </div>
                    <div class="mdl-tabs__panel" id="plan1">
                        <img class="image-full-width" id="b10_plan" src="b10.jpeg"></img>
                    </div>
                    <div class="mdl-tabs__panel" id="plan2">
                        <img class="image-full-width" id="sousol" src="b17sousol.jpeg"></img>
                    </div>
                    <div class="mdl-tabs__panel" id="plan3">
                        <img class="image-full-width" id="rdc" src="b17rezdechaus.jpeg"></img>
                    </div>

                </div>
                <!-- Wide card with share menu button -->
                <div class="mdl-grid">
                    <div class="mdl-cell mdl-cell--1-col">&nbsp;</div>
                    <div class="mdl-cell mdl-cell--6-col">
                        <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                            <div class="mdl-card__title">
                                <h2 class="mdl-card__title-text">Informations</h2>
                            </div>
                            <div class="mdl-card__supporting-text">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                Mauris sagittis pellentesque lacus eleifend lacinia...
                            </div>
                            <div class="mdl-card__actions mdl-card--border">
                                <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                                    Get Started
                                </a>
                            </div>
                        </div>
                        <div class="mdl-cell mdl-cell--1-col">&nbsp;</div>
                    </div>


                </div>




            </div>
        </main>
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <div class="mdl-cell mdl-cell--3-col mdl-typography--text-center">
                    <a href="home.html"><i class="material-icons md-18">home</i></a>
                </div>
                <div class="mdl-cell mdl-cell--2-col mdl-typography--text-center">
                    <a href="qrreader.html"><i class="material-icons md-18">camera_alt</i></a>
                </div>
                <div class="mdl-cell mdl-cell--3-col mdl-typography--text-center">
                    <a href="360.html"><i class="material-icons md-18">360</i></a>
                </div>
            </div>

        </header>
    </div>
    <script>
        var imageUrl = 'https://mariya-rakytyanska.github.io/peach/plan.gif',
            imageBounds = [[46.182433, 6.123352], [46.180894, 6.121339]];

        var map = L.map('map', {
            attributionControl: false,
            //zoomControl: false,
            zoom: 17,
            //minZoom: 17,
            //maxZoom: 17,
            //dragging: false,
            //maxBounds: imageBounds
        });
        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/streets-v11'
        }).addTo(map);

        L.imageOverlay(imageUrl, imageBounds).addTo(map);




        function onLocationFound(e) {
            var radius = e.accuracy / 2;
            L.marker(e.latlng).addTo(map)
            //.bindPopup("You are within " + radius + " meters from this point").openPopup();
            // L.circle(e.latlng, radius).addTo(map);
        }
        function onLocationError(e) {
            alert(e.message);
        }
        map.on('locationfound', onLocationFound);
        map.on('locationerror', onLocationError);
        map.locate({ setView: true, maxZoom: 21 });

        var theMarker = {};

        var coordinates_gymnase = [46.182020, 6.122567];
        var coordinates_auditorium = [46.181800, 6.122119];
        var coordinates_sd = [46.181918, 6.122595];
        var coordinates_poly = [46.181297, 6.122451];
        var locations = [coordinates_gymnase, coordinates_auditorium, coordinates_sd, coordinates_poly];

        function showMarker(id) {

            if (theMarker != undefined) {
                map.removeLayer(theMarker);
            };

            theMarker = L.marker(locations[id]).addTo(map);

            var tabs = document.getElementById("tabs");
            var x = tabs.getElementsByClassName("is-active");
            while (x.length)
                x[0].className = x[0].className.replace(/\bis-active\b/g, "");
            var current_tab = document.getElementById("tab" + id);
            current_tab.classList.add("is-active");
            var current_plan = document.getElementById("plan" + id);
            current_plan.classList.add("is-active");
        }



    </script>
</body>

</html>